spring:
  application:
    name: ${APP_NAME:ai-chef}
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        format_sql: true
  jackson:
    time-zone: UTC

server:
  port: ${SERVER_PORT:8080}

management:
  endpoints:
    web:
      exposure:
        include: health,info

logging:
  level:
    com.aichef: ${APP_LOG_LEVEL:INFO}

app:
  miniapp:
    public-url: ${MINIAPP_PUBLIC_URL:}
    allow-insecure: ${MINIAPP_ALLOW_INSECURE:true}
  telegram:
    bot-token: ${TELEGRAM_BOT_TOKEN}
    bot-username: ${TELEGRAM_BOT_USERNAME}
    webhook-secret: ${TELEGRAM_WEBHOOK_SECRET}
    webhook-path: ${TELEGRAM_WEBHOOK_PATH:/api/telegram/webhook}
    api-base: ${TELEGRAM_API_BASE:https://api.telegram.org}
    public-base-url: ${APP_PUBLIC_BASE_URL:}
    poll-interval-ms: ${TELEGRAM_POLL_INTERVAL_MS:3000}
    processing-threads: ${TELEGRAM_PROCESSING_THREADS:4}
    processing-queue-capacity: ${TELEGRAM_PROCESSING_QUEUE_CAPACITY:500}
  ai:
    ollama-base-url: ${APP_OLLAMA_BASE_URL:}
    ollama-model: ${APP_OLLAMA_MODEL:}
    whisper-command: ${APP_WHISPER_COMMAND:}
    whisper-model: ${APP_WHISPER_MODEL:small}
    whisper-fallback-model: ${APP_WHISPER_FALLBACK_MODEL:}
    vosk-python: ${APP_VOSK_PYTHON:.venv/bin/python}
    vosk-model-path: ${APP_VOSK_MODEL_PATH:}
  google:
    calendar:
      enabled: ${GOOGLE_CALENDAR_ENABLED:false}
      calendar-id: ${GOOGLE_CALENDAR_ID:primary}
      client-id: ${GOOGLE_CLIENT_ID:}
      client-secret: ${GOOGLE_CLIENT_SECRET:}
      refresh-token: ${GOOGLE_REFRESH_TOKEN:}
      redirect-path: ${GOOGLE_REDIRECT_PATH:/api/google/callback}
      scopes: ${GOOGLE_SCOPES:openid email profile https://www.googleapis.com/auth/calendar}
      token-uri: ${GOOGLE_TOKEN_URI:https://oauth2.googleapis.com/token}
      api-base: ${GOOGLE_CALENDAR_API_BASE:https://www.googleapis.com/calendar/v3}
